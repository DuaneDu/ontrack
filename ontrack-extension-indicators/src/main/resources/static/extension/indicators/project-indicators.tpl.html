<ot-view>

    <div class="row" ng-show="loadingIndicators">
        <div class="col-md-12">
            <div class="alert alert-info">
                <span class="ot-loading-indicator"></span>
                Loading indicators for the project...
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <form class="form-inline">
                <div class="form-group">
                    <!--suppress XmlInvalidId -->
                    <label for="trend-selection"><span class="fa fa-line-chart"></span> Trend period</label>
                    <ot-extension-indicators-trend-selection
                            select-id="trend-selection"
                            model="pageModel.duration"
                            on-trend-change="selectTrend()"
                    ></ot-extension-indicators-trend-selection>
                </div>
            </form>
        </div>
    </div>

    <table class="table table-bordered table-hover">
        <tbody ng-repeat="categoryIndicators in projectIndicators.categories">
        <tr class="info">
            <th colspan="6">{{categoryIndicators.category.name}}</th>
        </tr>
        <tr class="text-muted">
            <td>Type</td>
            <td>Status</td>
            <td>Value</td>
            <td>Comment</td>
            <td>Signature</td>
            <td>&nbsp;</td>
        </tr>
        <tr ng-repeat="indicator in categoryIndicators.indicators">
            <td>
                <ot-extension-indicators-type-name type="indicator.type"></ot-extension-indicators-type-name>
            </td>
            <td>
                <ot-extension-indicators-status status="indicator" size="sm"></ot-extension-indicators-status>
            </td>
            <td>
                <span ng-if="indicator.value">
                    <ot-include value="indicator.value" template="extension/{{indicator.type.valueType.feature.id}}/indicators/{{indicator.type.valueType.id}}.tpl.html"></ot-include>
                </span>
            </td>
            <td>
                <span ng-bind-html="indicator.annotatedComment"></span>
            </td>
            <td>
                <span ng-if="indicator.value">
                    <ot-creation creation="indicator.signature"></ot-creation>
                </span>
            </td>
            <td>
                <span ng-if="indicator.links._update" class="fa fa-pencil ot-command" title="Edit value" ng-click="editIndicator(indicator)"></span>
                <span ng-if="indicator.links._delete" class="fa fa-trash ot-command" title="Remove value" ng-click="deleteIndicator(indicator)"></span>
                <span ng-if="indicator.type.computed" class="text-muted" title="This indicator is computed and cannot be edited."><span class="fa fa-cog"></span>&nbsp;<i>Computed</i></span>
            </td>
        </tr>
        </tbody>
    </table>

</ot-view>