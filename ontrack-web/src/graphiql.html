<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8">
    <title>Ontrack Graphiql</title>
    <link href="assets/graphiql/graphiql.min.css" rel="stylesheet"/>
    <link rel="icon" type="image/png" href="assets/logo-64.png">
</head>
<body style="margin: 0;">
<div id="graphiql" style="height: 100vh;"></div>

<script src="assets/graphiql/react.production.min.js"></script>
<script src="assets/graphiql/react-dom.production.min.js"></script>
<script src="assets/graphiql/graphiql.min.js"></script>

<script>
    const graphQLFetcher = graphQLParams =>
        fetch('graphql', {
            method: 'post',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify(graphQLParams),
        })
            .then(response => response.json())
            .catch(() => response.text());
    ReactDOM.render(
        React.createElement(GraphiQL, {fetcher: graphQLFetcher}),
        document.getElementById('graphiql'),
    );
</script>
</body>
</html>
