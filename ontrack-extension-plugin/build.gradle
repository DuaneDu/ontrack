import org.apache.tools.ant.filters.ReplaceTokens

description "Gradle plugin to create an Ontrack extension."

apply plugin: 'groovy'

repositories {
    maven {
        url "https://plugins.gradle.org/m2/"
    }
}

dependencies {
    compile gradleApi()
    compile 'gradle.plugin.com.liferay:gradle-plugins-node:4.3.3'
    compile "org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}"
    compile "org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}"
    compile "org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}"
}

if (project.hasProperty("documentation")) {
    javadocJar {
        from javadoc
        from groovydoc
    }
}

processResources {
    filter(ReplaceTokens, tokens: [
            version      : project.versioning.info.display,
            kotlinVersion: kotlinVersion,
    ])
}
