@startuml

== Collection of SCM components ==

database SCM

control SCMCatalogCollection

database SCMCatalog

control CatalogInfoJob
participant CatalogInfoContributor

SCMCatalogCollection -> SCM: gets list of repositories
SCMCatalogCollection -> SCMCatalog: registers list of repositories
note right
    Repositories which are no longer
    available are marked
end note

== Collection of Catalog info ==

CatalogInfoJob -> SCMCatalog: runs for each SCM catalog entry
CatalogInfoJob -> CatalogInfoContributor: collects information
CatalogInfoContributor --> CatalogInfoJob: information
CatalogInfoJob -> SCMCatalog: stores information

@enduml